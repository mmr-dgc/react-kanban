{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmr.deguchi\\\\Desktop\\\\\\u30C1\\u30E5\\u30FC\\u30C8\\u30EA\\u30A2\\u30EB\\\\react\\\\test_app\\\\src\\\\components\\\\container\\\\organisms\\\\ContentContainer.js\";\nimport React, { Component } from 'react';\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport _ from 'lodash';\nimport BordContainer from './BordContainer';\nimport CardCreateContainer from './CardCreateContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet _columnId = 0;\nlet _cardId = 0;\nconst initialCards = Array.from({\n  length: 9\n}).map(() => ({\n  id: ++_cardId,\n  title: `Card ${_cardId}`,\n  content: \"内容\"\n}));\nconst initialColumns = ['TODO', '作業中', '完了'].map((title, i) => ({\n  id: _columnId++,\n  title,\n  cardIds: initialCards.slice(i * 3, i * 3 + 3).map(card => card.id)\n}));\n\nclass ContentContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addColumn = _title => {\n      const title = _title.trim();\n\n      if (!title) return;\n      const newColumn = {\n        id: ++_columnId,\n        title,\n        cardIds: []\n      };\n      this.setState(state => ({\n        columns: [...state.columns, newColumn]\n      }));\n    };\n\n    this.addCard = (columnId, _title) => {\n      const title = _title.trim();\n\n      if (!title) return;\n      const newCard = {\n        id: ++_cardId,\n        title,\n        content: \"内容\"\n      };\n      this.setState(state => ({\n        cards: [...state.cards, newCard],\n        columns: state.columns.map(column => column.id === columnId ? { ...column,\n          cardIds: [...column.cardIds, newCard.id]\n        } : column)\n      }));\n    };\n\n    this.removeCard = (cardId, destColumnId, index) => {\n      this.setState(state => ({\n        columns: state.columns.map(column => ({ ...column,\n          cardIds: _.flowRight( // 2) If this is the destination column, insert the cardId.\n          ids => column.id === destColumnId ? [...ids.slice(0, index), cardId, ...ids.slice(index)] : ids, // 1) Remove the cardId for all columns\n          ids => ids.filter(id => id !== cardId))(column.cardIds)\n        }))\n      }));\n    };\n\n    this.moveCard = (cardId, destColumnId, index) => {\n      this.setState(state => ({\n        columns: state.columns.map(column => ({ ...column,\n          cardIds: _.flowRight( // 2) If this is the destination column, insert the cardId.\n          ids => column.id === destColumnId ? [...ids.slice(0, index), cardId, ...ids.slice(index)] : ids, // 1) Remove the cardId for all columns\n          ids => ids.filter(id => id !== cardId))(column.cardIds)\n        }))\n      }));\n    };\n\n    this.state = {\n      cards: initialCards,\n      columns: initialColumns\n    };\n  }\n\n  render() {\n    const style = {\n      width: \"100%\",\n      height: \"90%\",\n      background: \"rgba(0,0,0,0.0)\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentContainer\",\n      style: style,\n      children: /*#__PURE__*/_jsxDEV(BordContainer, {\n        cards: this.state.cards,\n        columns: this.state.columns,\n        moveCard: this.moveCard,\n        addCard: this.addCard,\n        addColumn: this.addColumn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DragDropContext(HTML5Backend)(ContentContainer);","map":{"version":3,"sources":["C:/Users/mmr.deguchi/Desktop/チュートリアル/react/test_app/src/components/container/organisms/ContentContainer.js"],"names":["React","Component","DragDropContext","HTML5Backend","_","BordContainer","CardCreateContainer","_columnId","_cardId","initialCards","Array","from","length","map","id","title","content","initialColumns","i","cardIds","slice","card","ContentContainer","constructor","props","addColumn","_title","trim","newColumn","setState","state","columns","addCard","columnId","newCard","cards","column","removeCard","cardId","destColumnId","index","flowRight","ids","filter","moveCard","render","style","width","height","background"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {DragDropContext} from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport _ from 'lodash';\r\nimport BordContainer from './BordContainer';\r\nimport CardCreateContainer from './CardCreateContainer';\r\n\r\nlet _columnId = 0;\r\nlet _cardId = 0;\r\n\r\nconst initialCards = Array.from({length: 9}).map(() => ({\r\n  id: ++_cardId,\r\n  title: `Card ${_cardId}`,\r\n  content: \"内容\"\r\n}));\r\n\r\nconst initialColumns = ['TODO', '作業中', '完了'].map((title, i) => ({\r\n  id: _columnId++,\r\n  title,\r\n  cardIds: initialCards.slice(i * 3, i * 3 + 3).map(card => card.id),\r\n}));\r\n\r\nclass ContentContainer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cards: initialCards,\r\n      columns: initialColumns,\r\n    }\r\n  }\r\n\r\n  addColumn = _title => {\r\n    const title = _title.trim();\r\n    if (!title) return;\r\n\r\n    const newColumn = {\r\n      id: ++_columnId,\r\n      title,\r\n      cardIds: [],\r\n    };\r\n    this.setState(state => ({\r\n      columns: [...state.columns, newColumn],\r\n    }));\r\n  };\r\n\r\n  addCard = (columnId, _title) => {\r\n    const title = _title.trim();\r\n    if (!title) return;\r\n\r\n    const newCard = {id: ++_cardId, title, content: \"内容\"};\r\n    this.setState(state => ({\r\n      cards: [...state.cards, newCard],\r\n      columns: state.columns.map(\r\n        column =>\r\n          column.id === columnId\r\n            ? {...column, cardIds: [...column.cardIds, newCard.id]}\r\n            : column\r\n      ),\r\n    }));\r\n  };\r\n\r\n  removeCard = (cardId, destColumnId, index) => {\r\n    this.setState(state => ({\r\n      columns: state.columns.map(column => ({\r\n        ...column,\r\n        cardIds: _.flowRight(\r\n          // 2) If this is the destination column, insert the cardId.\r\n          ids =>\r\n            column.id === destColumnId\r\n              ? [...ids.slice(0, index), cardId, ...ids.slice(index)]\r\n              : ids,\r\n          // 1) Remove the cardId for all columns\r\n          ids => ids.filter(id => id !== cardId)\r\n        )(column.cardIds),\r\n      })),\r\n    }));\r\n  };\r\n\r\n  moveCard = (cardId, destColumnId, index) => {\r\n    this.setState(state => ({\r\n      columns: state.columns.map(column => ({\r\n        ...column,\r\n        cardIds: _.flowRight(\r\n          // 2) If this is the destination column, insert the cardId.\r\n          ids =>\r\n            column.id === destColumnId\r\n              ? [...ids.slice(0, index), cardId, ...ids.slice(index)]\r\n              : ids,\r\n          // 1) Remove the cardId for all columns\r\n          ids => ids.filter(id => id !== cardId)\r\n        )(column.cardIds),\r\n      })),\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const style = {\r\n      width: \"100%\",\r\n      height: \"90%\",\r\n      background: \"rgba(0,0,0,0.0)\"\r\n    }\r\n    return (\r\n      <div className=\"contentContainer\" style={style}>\r\n        {/* <CardCreateContainer /> */}\r\n        <BordContainer\r\n          cards={this.state.cards}\r\n          columns={this.state.columns}\r\n          moveCard={this.moveCard}\r\n          addCard={this.addCard}\r\n          addColumn={this.addColumn}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragDropContext(HTML5Backend)(ContentContainer);\r\n"]},"metadata":{},"sourceType":"module"}